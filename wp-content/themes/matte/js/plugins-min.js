// ========================= smartresize ===============================
/*
   * smartresize: debounced resize event for jQuery
   *
   * latest version and complete README available on Github:
   * https://github.com/louisremi/jquery.smartresize.js
   *
   * Copyright 2011 @louis_remi
   * Licensed under the MIT license.
   */jQuery(function(e){var t=e.event,n=e.event.handle?"handle":"dispatch",r;t.special.smartresize={setup:function(){e(this).bind("resize",t.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",t.special.smartresize.handler)},handler:function(e,i){var s=this,o=arguments;e.type="smartresize";r&&clearTimeout(r);r=setTimeout(function(){t[n].apply(s,o)},i==="execAsap"?0:100)}};e.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])}});Modernizr.addTest("fullscreen",function(){var e="ancelFullScreen";if(document.mozCancelFullScreen&&!document.mozFullScreenEnabled)return!1;var t=Modernizr._domPrefixes.length;for(var n=0;n<t;++n)if(document[[Modernizr._domPrefixes[n].toLowerCase(),"C",e].join("")])return!0;return!!document[["c",e].join("")]||!1});Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)});Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)});Modernizr.addTest("ipod",function(){return!!navigator.userAgent.match(/iPod/i)});Modernizr.addTest("appleios",function(){return Modernizr.ipad||Modernizr.ipod||Modernizr.iphone});Modernizr.addTest("positionfixed",function(){var e=document.createElement("div"),t=e.cloneNode(!1),n=!1,r=document.body||function(){n=!0;return document.documentElement.appendChild(document.createElement("body"))}(),i=r.style.cssText;r.style.cssText="padding:0;margin:0";e.style.cssText="position:fixed;top:42px";r.appendChild(e);r.appendChild(t);var s=e.offsetTop!==t.offsetTop;r.removeChild(e);r.removeChild(t);r.style.cssText=i;n&&document.documentElement.removeChild(r);return s&&!Modernizr.appleios});jQuery(function(e){if(!Modernizr.input.placeholder){e(this).find("[placeholder]").each(function(){e(this).val(e(this).attr("placeholder"))});e("[placeholder]").focus(function(){if(e(this).val()==e(this).attr("placeholder")){e(this).val("");e(this).removeClass("placeholder")}}).blur(function(){if(e(this).val()===""||e(this).val()==e(this).attr("placeholder")){e(this).val(e(this).attr("placeholder"));e(this).addClass("placeholder")}});e("[placeholder]").closest("form").submit(function(){e(this).find("[placeholder]").each(function(){e(this).val()==e(this).attr("placeholder")&&e(this).val("")})})}});(function(e){function r(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,s=!0,o=0,u=0;t=e.event.fix(n);t.type="mousewheel";n.wheelDelta&&(i=n.wheelDelta/120);n.detail&&(i=-n.detail/3);u=i;if(n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS){u=0;o=-1*i}n.wheelDeltaY!==undefined&&(u=n.wheelDeltaY/120);n.wheelDeltaX!==undefined&&(o=-1*n.wheelDeltaX/120);r.unshift(t,i,o,u);return(e.event.dispatch||e.event.handle).apply(this,r)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var n=t.length;n;)e.event.fixHooks[t[--n]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],r,!1);else this.onmousewheel=r},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],r,!1);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})(jQuery);(function(e,t,n){e.fn.tinyNav=function(r){var s=e.extend({active:"selected",header:!1},r);return this.each(function(){n++;var r=e(this),o="tinynav",u=o+n,a=".l_"+u,f=e("<select/>").addClass(o+" "+u);s.header&&f.append(e("<option/>").text("Navigation"));var l="";r.addClass("l_"+u).find("a").each(function(){l+='<option value="'+e(this).attr("href")+'">'+e(this).text()+"</option>"});f.append(l);s.header||f.find(":eq("+e(a+" li").index(e(a+" li."+s.active))+")").attr("selected",!0);f.change(function(){t.location.href=e(this).val()});e(a).after(f)})}})(jQuery,this,0);(function(e){var t=window.localStorage,n;typeof t=="undefined"||typeof window.JSON=="undefined"?n=!1:n=!0;e.totalStorage=function(t,n,r){return e.totalStorage.impl.init(t,n)};e.totalStorage.setItem=function(t,n){return e.totalStorage.impl.setItem(t,n)};e.totalStorage.getItem=function(t){return e.totalStorage.impl.getItem(t)};e.totalStorage.getAll=function(){return e.totalStorage.impl.getAll()};e.totalStorage.deleteItem=function(t){return e.totalStorage.impl.deleteItem(t)};e.totalStorage.impl={init:function(e,t){return typeof t!="undefined"?this.setItem(e,t):this.getItem(e)},setItem:function(r,i){if(!n)try{e.cookie(r,i);return i}catch(s){console.log("Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality")}var o=JSON.stringify(i);t.setItem(r,o);return this.parseResult(o)},getItem:function(r){if(!n)try{return this.parseResult(e.cookie(r))}catch(i){return null}return this.parseResult(t.getItem(r))},deleteItem:function(r){if(!n)try{e.cookie(r,null);return!0}catch(i){return!1}t.removeItem(r);return!0},getAll:function(){var r=new Array;if(!n)try{var i=document.cookie.split(";");for(var s=0;s<i.length;s++){var o=i[s].split("="),u=o[0];r.push({key:u,value:this.parseResult(e.cookie(u))})}}catch(f){return null}else for(var s in t)s.length&&r.push({key:s,value:this.parseResult(t.getItem(s))});return r},parseResult:function(e){var t;try{t=JSON.parse(e);t=="true"&&(t=!0);t=="false"&&(t=!1);parseFloat(t)==t&&(t=parseFloat(t))}catch(n){}return t}}})(jQuery);(function(e){function w(t){t&&t.allowPageScroll==undefined&&(t.swipe!=undefined||t.swipeStatus!=undefined)&&(t.allowPageScroll=s);t||(t={});t=e.extend({},e.fn.swipe.defaults,t);return this.each(function(){var n=e(this),r=n.data(y);if(!r){r=new E(this,t);n.data(y,r)}})}function E(b,w){function _(e){e=e.originalEvent;var t,n=p?e.touches[0]:e;S=f;p?T=e.touches.length:e.preventDefault();distance=0;direction=null;duration=0;if(!p||T==w.fingers){N.x=C.x=n.pageX;N.y=C.y=n.pageY;L=W();w.swipeStatus&&(t=B(e,S))}else H(e);if(t===!1){S=h;B(e,S);return t}E.bind(v,D);E.bind(m,P)}function D(e){e=e.originalEvent;if(S==c||S==h)return;var t,n=p?e.touches[0]:e;C.x=n.pageX;C.y=n.pageY;A=W();direction=z();p&&(T=e.touches.length);S=l;I(e,direction);if(T==w.fingers||!p){distance=R();duration=q();w.swipeStatus&&(t=B(e,S,direction,distance,duration));if(!w.triggerOnTouchEnd){var r=!F();if(j()===!0){S=c;t=B(e,S)}else if(r){S=h;B(e,S)}}}else{S=h;B(e,S)}if(t===!1){S=h;B(e,S)}}function P(e){e=e.originalEvent;e.preventDefault();A=W();distance=R();direction=z();duration=q();if(w.triggerOnTouchEnd||w.triggerOnTouchEnd==0&&S==l){S=c;if(T!=w.fingers&&!!p||C.x==0){S=h;B(e,S)}else{var t=!F();if(j()!==!0&&j()!==null||!!t){if(t||j()===!1){S=h;B(e,S)}}else B(e,S)}}else if(S==l){S=h;B(e,S)}E.unbind(v,D,!1);E.unbind(m,P,!1)}function H(e){T=0;N.x=0;N.y=0;C.x=0;C.y=0;k.x=0;k.y=0;A=0;L=0}function B(e,s){var o;w.swipeStatus&&(o=w.swipeStatus.call(E,e,s,direction||null,distance||0,duration||0));s==h&&w.click&&(T==1||!p)&&(isNaN(distance)||distance==0)&&(o=w.click.call(E,e,e.target));if(s==c){w.swipe&&(o=w.swipe.call(E,e,direction,distance,duration));switch(direction){case t:w.swipeLeft&&(o=w.swipeLeft.call(E,e,direction,distance,duration));break;case n:w.swipeRight&&(o=w.swipeRight.call(E,e,direction,distance,duration));break;case r:w.swipeUp&&(o=w.swipeUp.call(E,e,direction,distance,duration));break;case i:w.swipeDown&&(o=w.swipeDown.call(E,e,direction,distance,duration))}}(s==h||s==c)&&H(e);if(o!==undefined)return o}function j(){return w.threshold!==null?distance>=w.threshold:null}function F(){var e;w.maxTimeThreshold?duration>=w.maxTimeThreshold?e=!1:e=!0:e=!0;return e}function I(e,f){if(w.allowPageScroll==s)e.preventDefault();else{var l=w.allowPageScroll==a;switch(f){case t:(w.swipeLeft&&l||!l&&w.allowPageScroll!=o)&&e.preventDefault();break;case n:(w.swipeRight&&l||!l&&w.allowPageScroll!=o)&&e.preventDefault();break;case r:(w.swipeUp&&l||!l&&w.allowPageScroll!=u)&&e.preventDefault();break;case i:(w.swipeDown&&l||!l&&w.allowPageScroll!=u)&&e.preventDefault()}}}function q(){return A-L}function R(){return Math.round(Math.sqrt(Math.pow(C.x-N.x,2)+Math.pow(C.y-N.y,2)))}function U(){var e=N.x-C.x,t=C.y-N.y,n=Math.atan2(t,e),r=Math.round(n*180/Math.PI);r<0&&(r=360-Math.abs(r));return r}function z(){var e=U();return e<=45&&e>=0?t:e<=360&&e>=315?t:e>=135&&e<=225?n:e>45&&e<135?i:r}function W(){var e=new Date;return e.getTime()}function X(){E.unbind(d,_);E.unbind(g,H);E.unbind(v,D);E.unbind(m,P)}var E=e(b),S="start",x=null,T=0,N={x:0,y:0},C={x:0,y:0},k={x:0,y:0},L=0,A=0,O;try{E.bind(d,_);E.bind(g,H)}catch(M){e.error("events not supported "+d+","+g+" on jQuery.swipe")}this.enable=function(){E.bind(d,_);E.bind(g,H);return E};this.disable=function(){X();return E};this.destroy=function(){X();E.data(y,null);return E}}var t="left",n="right",r="up",i="down",s="none",o="horizontal",u="vertical",a="auto",f="start",l="move",c="end",h="cancel",p="ontouchstart"in window,d=p?"touchstart":"mousedown",v=p?"touchmove":"mousemove",m=p?"touchend":"mouseup",g="touchcancel",y="TouchSwipe",b={fingers:1,threshold:75,maxTimeThreshold:null,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:!0,allowPageScroll:"auto"};e.fn.swipe=function(t){$this=e(this);var n=$this.data(y);if(n&&typeof t=="string"){if(n[t])return n[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on jQuery.swipe")}else if(!n&&(typeof t=="object"||!t))return w.apply(this,arguments)};e.fn.swipe.defaults=b;e.fn.swipe.phases={PHASE_START:f,PHASE_MOVE:l,PHASE_END:c,PHASE_CANCEL:h};e.fn.swipe.directions={LEFT:t,RIGHT:n,UP:r,DOWN:i};e.fn.swipe.pageScroll={NONE:s,HORIZONTAL:o,VERTICAL:u,AUTO:a}})(jQuery);(function(e){e.fn.fitText=function(t,n){var r=t||1,i=e.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},n);return this.each(function(){var t=e(this),n=function(){t.css("font-size",Math.max(Math.min(t.width()/(r*10),parseFloat(i.maxFontSize)),parseFloat(i.minFontSize)))};n();e(window).on("resize",n)})}})(jQuery);(function(e,t,n){"use strict";e.fn.backstretch=function(r,s){return(r===n||r.length===0)&&e.error("No images were supplied for Backstretch"),e(t).scrollTop()===0&&t.scrollTo(0,0),this.each(function(){var t=e(this),n=t.data("backstretch");n&&(s=e.extend(n.options,s),n.destroy(!0)),n=new i(this,r,s),t.data("backstretch",n)})},e.backstretch=function(t,n){return e("body").backstretch(t,n).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==n},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var r={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxWidth:"none",zIndex:-999999}},i=function(n,i,o){this.options=e.extend({},e.fn.backstretch.defaults,o||{}),this.images=e.isArray(i)?i:[i],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=n===document.body,this.$container=e(n),this.$wrap=e('<div class="backstretch"></div>').css(r.wrap).appendTo(this.$container),this.$root=this.isBody?s?e(t):e(document):this.$container;if(!this.isBody){var u=this.$container.css("position"),a=this.$container.css("zIndex");this.$container.css({position:u==="static"?"relative":u,zIndex:a==="auto"?0:a,background:"none"}),this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&t.pageYOffset===0&&(t.scrollTo(0,1),this.resize())},this))};i.prototype={resize:function(){try{var e={left:0,top:0},n=this.isBody?this.$root.width():this.$root.innerWidth(),r=n,i=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),s=r/this.$img.data("ratio"),o;s>=i?(o=(s-i)/2,this.options.centeredY&&(e.top="-"+o+"px")):(s=i,r=s*this.$img.data("ratio"),o=(r-n)/2,this.options.centeredX&&(e.left="-"+o+"px")),this.$wrap.css({width:n,height:i}).find("img:not(.deleteable)").css({width:r,height:s}).css(e)}catch(u){}return this},show:function(t){if(Math.abs(t)>this.images.length-1)return;this.index=t;var n=this,i=n.$wrap.find("img").addClass("deleteable"),s=e.Event("backstretch.show",{relatedTarget:n.$container[0]});return clearInterval(n.interval),n.$img=e("<img />").css(r.img).bind("load",function(t){var r=this.width||e(t.target).width(),o=this.height||e(t.target).height();e(this).data("ratio",r/o),n.resize(),e(this).fadeIn(n.options.speed||n.options.fade,function(){i.remove(),n.paused||n.cycle(),n.$container.trigger(s)})}).appendTo(n.$wrap),n.$img.attr("src",n.images[t]),n},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(this.index===0?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return this.images.length>1&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(n){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),n||this.$wrap.remove(),this.$container.removeData("backstretch")}};var s=function(){var e=navigator.userAgent,n=navigator.platform,r=e.match(/AppleWebKit\/([0-9]+)/),i=!!r&&r[1],s=e.match(/Fennec\/([0-9]+)/),o=!!s&&s[1],u=e.match(/Opera Mobi\/([0-9]+)/),a=!!u&&u[1],f=e.match(/MSIE ([0-9]+)/),l=!!f&&f[1];return!((n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&i&&i<534||t.operamini&&{}.toString.call(t.operamini)==="[object OperaMini]"||u&&a<7458||e.indexOf("Android")>-1&&i&&i<533||o&&o<6||"palmGetResource"in t&&i&&i<534||e.indexOf("MeeGo")>-1&&e.indexOf("NokiaBrowser/8.5.0")>-1||l&&l<=6)}()})(jQuery,window);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(e){e.flexslider=function(t,n){var r=e(t),i=e.extend({},e.flexslider.defaults,n),s=i.namespace,o="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,u=o?"touchend":"click",a=i.direction==="vertical",f=i.reverse,l=i.itemWidth>0,c=i.animation==="fade",h=i.asNavFor!=="",p={};e.data(t,"flexslider",r);p={init:function(){r.animating=!1;r.currentSlide=i.startAt;r.animatingTo=r.currentSlide;r.atEnd=r.currentSlide===0||r.currentSlide===r.last;r.containerSelector=i.selector.substr(0,i.selector.search(" "));r.slides=e(i.selector,r);r.container=e(r.containerSelector,r);r.count=r.slides.length;r.syncExists=e(i.sync).length>0;i.animation==="slide"&&(i.animation="swing");r.prop=a?"top":"marginLeft";r.args={};r.manualPause=!1;r.transitions=!i.video&&!c&&i.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(e.style[t[n]]!==undefined){r.pfx=t[n].replace("Perspective","").toLowerCase();r.prop="-"+r.pfx+"-transform";return!0}return!1}();i.controlsContainer!==""&&(r.controlsContainer=e(i.controlsContainer).length>0&&e(i.controlsContainer));i.manualControls!==""&&(r.manualControls=e(i.manualControls).length>0&&e(i.manualControls));if(i.randomize){r.slides.sort(function(){return Math.round(Math.random())-.5});r.container.empty().append(r.slides)}r.doMath();h&&p.asNav.setup();r.setup("init");i.controlNav&&p.controlNav.setup();i.directionNav&&p.directionNav.setup();i.keyboard&&(e(r.containerSelector).length===1||i.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!r.animating&&(t===39||t===37)){var n=t===39?r.getTarget("next"):t===37?r.getTarget("prev"):!1;r.flexAnimate(n,i.pauseOnAction)}});i.mousewheel&&r.bind("mousewheel",function(e,t,n,s){e.preventDefault();var o=t<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(o,i.pauseOnAction)});i.pausePlay&&p.pausePlay.setup();if(i.slideshow){i.pauseOnHover&&r.hover(function(){!r.manualPlay&&!r.manualPause&&r.pause()},function(){!r.manualPause&&!r.manualPlay&&r.play()});i.initDelay>0?setTimeout(r.play,i.initDelay):r.play()}o&&i.touch&&p.touch();(!c||c&&i.smoothHeight)&&e(window).bind("resize focus",p.resize);setTimeout(function(){i.start(r)},200)},asNav:{setup:function(){r.asNav=!0;r.animatingTo=Math.floor(r.currentSlide/r.move);r.currentItem=r.currentSlide;r.slides.removeClass(s+"active-slide").eq(r.currentItem).addClass(s+"active-slide");r.slides.click(function(t){t.preventDefault();var n=e(this),s=n.index();if(!e(i.asNavFor).data("flexslider").animating&&!n.hasClass("active")){r.direction=r.currentItem<s?"next":"prev";r.flexAnimate(s,i.pauseOnAction,!1,!0,!0)}})}},controlNav:{setup:function(){r.manualControls?p.controlNav.setupManual():p.controlNav.setupPaging()},setupPaging:function(){var t=i.controlNav==="thumbnails"?"control-thumbs":"control-paging",n=1,a;r.controlNavScaffold=e('<ol class="'+s+"control-nav "+s+t+'"></ol>');if(r.pagingCount>1)for(var f=0;f<r.pagingCount;f++){a=i.controlNav==="thumbnails"?'<img src="'+r.slides.eq(f).attr("data-thumb")+'"/>':"<a>"+n+"</a>";r.controlNavScaffold.append("<li>"+a+"</li>");n++}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold);p.controlNav.set();p.controlNav.active();r.controlNavScaffold.delegate("a, img",u,function(t){t.preventDefault();var n=e(this),o=r.controlNav.index(n);if(!n.hasClass(s+"active")){r.direction=o>r.currentSlide?"next":"prev";r.flexAnimate(o,i.pauseOnAction)}});o&&r.controlNavScaffold.delegate("a","click touchstart",function(e){e.preventDefault()})},setupManual:function(){r.controlNav=r.manualControls;p.controlNav.active();r.controlNav.live(u,function(t){t.preventDefault();var n=e(this),o=r.controlNav.index(n);if(!n.hasClass(s+"active")){o>r.currentSlide?r.direction="next":r.direction="prev";r.flexAnimate(o,i.pauseOnAction)}});o&&r.controlNav.live("click touchstart",function(e){e.preventDefault()})},set:function(){var t=i.controlNav==="thumbnails"?"img":"a";r.controlNav=e("."+s+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(s+"active").eq(r.animatingTo).addClass(s+"active")},update:function(t,n){r.pagingCount>1&&t==="add"?r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>")):r.pagingCount===1?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove();p.controlNav.set();r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):p.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+s+'direction-nav"><li><a class="'+s+'prev" href="#">'+i.prevText+'</a></li><li><a class="'+s+'next" href="#">'+i.nextText+"</a></li></ul>");if(r.controlsContainer){e(r.controlsContainer).append(t);r.directionNav=e("."+s+"direction-nav li a",r.controlsContainer)}else{r.append(t);r.directionNav=e("."+s+"direction-nav li a",r)}p.directionNav.update();r.directionNav.bind(u,function(t){t.preventDefault();var n=e(this).hasClass(s+"next")?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(n,i.pauseOnAction)});o&&r.directionNav.bind("click touchstart",function(e){e.preventDefault()})},update:function(){var e=s+"disabled";r.pagingCount===1?r.directionNav.addClass(e):i.animationLoop?r.directionNav.removeClass(e):r.animatingTo===0?r.directionNav.removeClass(e).filter("."+s+"prev").addClass(e):r.animatingTo===r.last?r.directionNav.removeClass(e).filter("."+s+"next").addClass(e):r.directionNav.removeClass(e)}},pausePlay:{setup:function(){var t=e('<div class="'+s+'pauseplay"><a></a></div>');if(r.controlsContainer){r.controlsContainer.append(t);r.pausePlay=e("."+s+"pauseplay a",r.controlsContainer)}else{r.append(t);r.pausePlay=e("."+s+"pauseplay a",r)}p.pausePlay.update(i.slideshow?s+"pause":s+"play");r.pausePlay.bind(u,function(t){t.preventDefault();if(e(this).hasClass(s+"pause")){r.manualPause=!0;r.manualPlay=!1;r.pause()}else{r.manualPause=!1;r.manualPlay=!0;r.play()}});o&&r.pausePlay.bind("click touchstart",function(e){e.preventDefault()})},update:function(e){e==="play"?r.pausePlay.removeClass(s+"pause").addClass(s+"play").text(i.playText):r.pausePlay.removeClass(s+"play").addClass(s+"pause").text(i.pauseText)}},touch:function(){function d(u){if(r.animating)u.preventDefault();else if(u.touches.length===1){r.pause();o=a?r.h:r.w;h=Number(new Date);s=l&&f&&r.animatingTo===r.last?0:l&&f?r.limit-(r.itemW+i.itemMargin)*r.move*r.animatingTo:l&&r.currentSlide===r.last?r.limit:l?(r.itemW+i.itemMargin)*r.move*r.currentSlide:f?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o;e=a?u.touches[0].pageY:u.touches[0].pageX;n=a?u.touches[0].pageX:u.touches[0].pageY;t.addEventListener("touchmove",v,!1);t.addEventListener("touchend",m,!1)}}function v(t){u=a?e-t.touches[0].pageY:e-t.touches[0].pageX;p=a?Math.abs(u)<Math.abs(t.touches[0].pageX-n):Math.abs(u)<Math.abs(t.touches[0].pageY-n);if(!p||Number(new Date)-h>500){t.preventDefault();if(!c&&r.transitions){i.animationLoop||(u/=r.currentSlide===0&&u<0||r.currentSlide===r.last&&u>0?Math.abs(u)/o+2:1);r.setProps(s+u,"setTouch")}}}function m(a){t.removeEventListener("touchmove",v,!1);if(r.animatingTo===r.currentSlide&&!p&&u!==null){var l=f?-u:u,d=l>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(d)&&(Number(new Date)-h<550&&Math.abs(l)>50||Math.abs(l)>o/2)?r.flexAnimate(d,i.pauseOnAction):c||r.flexAnimate(r.currentSlide,i.pauseOnAction,!0)}t.removeEventListener("touchend",m,!1);e=null;n=null;u=null;s=null}var e,n,s,o,u,h,p=!1;t.addEventListener("touchstart",d,!1)},resize:function(){if(!r.animating&&r.is(":visible")){l||r.doMath();if(c)p.smoothHeight();else if(l){r.slides.width(r.computedW);r.update(r.pagingCount);r.setProps()}else if(a){r.viewport.height(r.h);r.setProps(r.h,"setTotal")}else{i.smoothHeight&&p.smoothHeight();r.newSlides.width(r.computedW);r.setProps(r.computedW,"setTotal")}}},smoothHeight:function(e){if(!a||c){var t=c?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(i.sync).data("flexslider"),s=r.animatingTo;switch(t){case"animate":n.flexAnimate(s,i.pauseOnAction,!1,!0);break;case"play":!n.playing&&!n.asNav&&n.play();break;case"pause":n.pause()}}};r.flexAnimate=function(t,n,u,d,v){h&&r.pagingCount===1&&(r.direction=r.currentItem<t?"next":"prev");if(!r.animating&&(r.canAdvance(t,v)||u)&&r.is(":visible")){if(h&&d){var m=e(i.asNavFor).data("flexslider");r.atEnd=t===0||t===r.count-1;m.flexAnimate(t,!0,!1,!0,v);r.direction=r.currentItem<t?"next":"prev";m.direction=r.direction;if(Math.ceil((t+1)/r.visible)-1===r.currentSlide||t===0){r.currentItem=t;r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide");return!1}r.currentItem=t;r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide");t=Math.floor(t/r.visible)}r.animating=t!==0||t!==r.animatingTo;r.animatingTo=t;i.before(r);n&&r.pause();r.syncExists&&!v&&p.sync("animate");i.controlNav&&p.controlNav.active();l||r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide");r.atEnd=t===0||t===r.last;i.directionNav&&p.directionNav.update();if(t===r.last){i.end(r);i.animationLoop||r.pause()}if(!c){var g=a?r.slides.filter(":first").height():r.computedW,y,b,w;if(l){y=i.itemWidth>r.w?i.itemMargin*2:i.itemMargin;w=(r.itemW+y)*r.move*r.animatingTo;b=w>r.limit&&r.visible!==1?r.limit:w}else r.currentSlide===0&&t===r.count-1&&i.animationLoop&&r.direction!=="next"?b=f?(r.count+r.cloneOffset)*g:0:r.currentSlide===r.last&&t===0&&i.animationLoop&&r.direction!=="prev"?b=f?0:(r.count+1)*g:b=f?(r.count-1-t+r.cloneOffset)*g:(t+r.cloneOffset)*g;r.setProps(b,"",i.animationSpeed);if(r.transitions){if(!i.animationLoop||!r.atEnd){r.animating=!1;r.currentSlide=r.animatingTo}r.container.unbind("webkitTransitionEnd transitionend");r.container.bind("webkitTransitionEnd transitionend",function(){r.wrapup(g)})}else r.container.animate(r.args,i.animationSpeed,i.easing,function(){r.wrapup(g)})}else if(!o){r.slides.eq(r.currentSlide).fadeOut(i.animationSpeed,i.easing);r.slides.eq(t).fadeIn(i.animationSpeed,i.easing,r.wrapup)}else{r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1});r.slides.eq(t).css({opacity:1,zIndex:2});r.slides.unbind("webkitTransitionEnd transitionend");r.slides.eq(r.currentSlide).bind("webkitTransitionEnd transitionend",function(){i.after(r)});r.animating=!1;r.currentSlide=r.animatingTo}i.smoothHeight&&p.smoothHeight(i.animationSpeed)}};r.wrapup=function(e){!c&&!l&&(r.currentSlide===0&&r.animatingTo===r.last&&i.animationLoop?r.setProps(e,"jumpEnd"):r.currentSlide===r.last&&r.animatingTo===0&&i.animationLoop&&r.setProps(e,"jumpStart"));r.animating=!1;r.currentSlide=r.animatingTo;i.after(r)};r.animateSlides=function(){r.animating||r.flexAnimate(r.getTarget("next"))};r.pause=function(){clearInterval(r.animatedSlides);r.playing=!1;i.pausePlay&&p.pausePlay.update("play");r.syncExists&&p.sync("pause")};r.play=function(){r.animatedSlides=setInterval(r.animateSlides,i.slideshowSpeed);r.playing=!0;i.pausePlay&&p.pausePlay.update("pause");r.syncExists&&p.sync("play")};r.canAdvance=function(e,t){var n=h?r.pagingCount-1:r.last;return t?!0:h&&r.currentItem===r.count-1&&e===0&&r.direction==="prev"?!0:h&&r.currentItem===0&&e===r.pagingCount-1&&r.direction!=="next"?!1:e===r.currentSlide&&!h?!1:i.animationLoop?!0:r.atEnd&&r.currentSlide===0&&e===n&&r.direction!=="next"?!1:r.atEnd&&r.currentSlide===n&&e===0&&r.direction==="next"?!1:!0};r.getTarget=function(e){r.direction=e;return e==="next"?r.currentSlide===r.last?0:r.currentSlide+1:r.currentSlide===0?r.last:r.currentSlide-1};r.setProps=function(e,t,n){var s=function(){var n=e?e:(r.itemW+i.itemMargin)*r.move*r.animatingTo,s=function(){if(l)return t==="setTouch"?e:f&&r.animatingTo===r.last?0:f?r.limit-(r.itemW+i.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n;switch(t){case"setTotal":return f?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return f?e:e;case"jumpEnd":return f?e:r.count*e;case"jumpStart":return f?r.count*e:e;default:return e}}();return s*-1+"px"}();if(r.transitions){s=a?"translate3d(0,"+s+",0)":"translate3d("+s+",0,0)";n=n!==undefined?n/1e3+"s":"0s";r.container.css("-"+r.pfx+"-transition-duration",n)}r.args[r.prop]=s;(r.transitions||n===undefined)&&r.container.css(r.args)};r.setup=function(t){if(!c){var n,u;if(t==="init"){r.viewport=e('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container);r.cloneCount=0;r.cloneOffset=0;if(f){u=e.makeArray(r.slides).reverse();r.slides=e(u);r.container.empty().append(r.slides)}}if(i.animationLoop&&!l){r.cloneCount=2;r.cloneOffset=1;t!=="init"&&r.container.find(".clone").remove();r.container.append(r.slides.first().clone().addClass("clone")).prepend(r.slides.last().clone().addClass("clone"))}r.newSlides=e(i.selector,r);n=f?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset;if(a&&!l){r.container.height((r.count+r.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){r.newSlides.css({display:"block"});r.doMath();r.viewport.height(r.h);r.setProps(n*r.h,"init")},t==="init"?100:0)}else{r.container.width((r.count+r.cloneCount)*200+"%");r.setProps(n*r.computedW,"init");setTimeout(function(){r.doMath();r.newSlides.css({width:r.computedW,"float":"left",display:"block"});i.smoothHeight&&p.smoothHeight()},t==="init"?100:0)}}else{r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});t==="init"&&(o?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):r.slides.eq(r.currentSlide).fadeIn(i.animationSpeed,i.easing));i.smoothHeight&&p.smoothHeight()}l||r.slides.removeClass(s+"active-slide").eq(r.currentSlide).addClass(s+"active-slide")};r.doMath=function(){var e=r.slides.first(),t=i.itemMargin,n=i.minItems,s=i.maxItems;r.w=r.width();r.h=e.height();r.boxPadding=e.outerWidth()-e.width();if(l){r.itemT=i.itemWidth+t;r.minW=n?n*r.itemT:r.w;r.maxW=s?s*r.itemT:r.w;r.itemW=r.minW>r.w?(r.w-t*n)/n:r.maxW<r.w?(r.w-t*s)/s:i.itemWidth>r.w?r.w:i.itemWidth;r.visible=Math.floor(r.w/(r.itemW+t));r.move=i.move>0&&i.move<r.visible?i.move:r.visible;r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1);r.last=r.pagingCount-1;r.limit=r.pagingCount===1?0:i.itemWidth>r.w?(r.itemW+t*2)*r.count-r.w-t:(r.itemW+t)*r.count-r.w-t}else{r.itemW=r.w;r.pagingCount=r.count;r.last=r.count-1}r.computedW=r.itemW-r.boxPadding};r.update=function(e,t){r.doMath();if(!l){e<r.currentSlide?r.currentSlide+=1:e<=r.currentSlide&&e!==0&&(r.currentSlide-=1);r.animatingTo=r.currentSlide}if(i.controlNav&&!r.manualControls)if(t==="add"&&!l||r.pagingCount>r.controlNav.length)p.controlNav.update("add");else if(t==="remove"&&!l||r.pagingCount<r.controlNav.length){if(l&&r.currentSlide>r.last){r.currentSlide-=1;r.animatingTo-=1}p.controlNav.update("remove",r.last)}i.directionNav&&p.directionNav.update()};r.addSlide=function(t,n){var s=e(t);r.count+=1;r.last=r.count-1;a&&f?n!==undefined?r.slides.eq(r.count-n).after(s):r.container.prepend(s):n!==undefined?
r.slides.eq(n).before(s):r.container.append(s);r.update(n,"add");r.slides=e(i.selector+":not(.clone)",r);r.setup();i.added(r)};r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1;r.last=r.count-1;isNaN(t)?e(t,r.slides).remove():a&&f?r.slides.eq(r.last).remove():r.slides.eq(t).remove();r.doMath();r.update(n,"remove");r.slides=e(i.selector+":not(.clone)",r);r.setup();i.removed(r)};p.init()};e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};e.fn.flexslider=function(t){t===undefined&&(t={});if(typeof t=="object")return this.each(function(){var n=e(this),r=t.selector?t.selector:".slides > li",i=n.find(r);if(i.length===1){i.fadeIn(400);t.start&&t.start(n)}else n.data("flexslider")==undefined&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:typeof t=="number"&&n.flexAnimate(t,!0)}}})(jQuery);(function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],s="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";r.className="fit-vids-style";r.id="fit-vids-style";r.style.display="none";r.innerHTML=s;i.parentNode.insertBefore(r,i)}t&&e.extend(n,t);return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));r=r.not("object object");r.each(function(){var t=e(this);if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)return;var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=n/r;if(!t.attr("id")){var s="fitvid"+Math.floor(Math.random()*999999);t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",i*100+"%");t.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);(function(e){function c(){n.setAttribute("content",s);o=!0}function h(){n.setAttribute("content",i);o=!1}function p(t){l=t.accelerationIncludingGravity;u=Math.abs(l.x);a=Math.abs(l.y);f=Math.abs(l.z);!e.orientation&&(u>7||(f>6&&a<8||f<8&&a>6)&&u>5)?o&&h():o||c()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var t=e.document;if(!t.querySelector)return;var n=t.querySelector("meta[name=viewport]"),r=n&&n.getAttribute("content"),i=r+",maximum-scale=1",s=r+",maximum-scale=10",o=!0,u,a,f,l;if(!n)return;e.addEventListener("orientationchange",c,!1);e.addEventListener("devicemotion",p,!1)})(this);(function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;!!(r=n.pop());)e[r]=e[r]||t})(function(){try{console.log();return window.console}catch(e){return window.console={}}}());(function(e){e.scrollToElement=function(t,n){n=n||750;e("html, body").animate({scrollTop:t.offset().top,scrollLeft:t.offset().left},n);return t};e.fn.scrollTo=function(t){t=t||"normal";return e.scrollToElement(this,t)};jQuery.fn.labelify=function(t){t=jQuery.extend({text:"title",labelledClass:""},t);var n={title:function(t){return e(t).attr("title")},label:function(t){return e("label[for="+t.id+"]").text()}},r,i=e(this);return e(this).each(function(){typeof t.text=="string"?r=n[t.text]:r=t.text;if(typeof r!="function")return;var s=r(this);if(!s)return;e(this).data("label",r(this).replace(/\n/g,""));e(this).focus(function(){if(this.value===e(this).data("label")){this.value=this.defaultValue;e(this).removeClass(t.labelledClass)}}).blur(function(){if(this.value===this.defaultValue){this.value=e(this).data("label");e(this).addClass(t.labelledClass)}});var o=function(){i.each(function(){if(this.value===e(this).data("label")){this.value=this.defaultValue;e(this).removeClass(t.labelledClass)}})};e(this).parents("form").submit(o);e(window).unload(o);if(this.value!==this.defaultValue)return;this.value=e(this).data("label");e(this).addClass(t.labelledClass)})}})(jQuery);(function(e,t){"use strict";var n=typeof Element!="undefined"&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){var e,n,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"]],i=0,s=r.length,o={};for(;i<s;i++){e=r[i];if(e&&e[1]in t){for(i=0,n=e.length;i<n;i++)o[r[0][i]]=e[i];return o}}return!1}(),i={request:function(e){var i=r.requestFullscreen;e=e||t.documentElement;/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[i]():e[i](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){t[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){}};if(!r)return e.screenfull=!1;Object.defineProperties(i,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}});t.addEventListener(r.fullscreenchange,function(e){i.onchange.call(i,e)});t.addEventListener(r.fullscreenerror,function(e){i.onerror.call(i,e)});e.screenfull=i})(window,document);(function(e){e.fn.appear=function(t,n){var r=e.extend({data:undefined,one:!0,addScrollTo:!1},n);return this.each(function(){var n=e(this);n.appeared=!1;if(!t){n.trigger("appear",r.data);return}var i=e(window),s=function(){if(!n.is(":visible")){n.appeared=!1;return}var e=i.scrollLeft(),t=i.scrollTop(),s=n.offset(),o=s.left,u=s.top;u+n.height()>=t&&u<=t+i.height()&&o+n.width()>=e&&o<=e+i.width()?n.appeared||n.trigger("appear",r.data):n.appeared=!1},o=function(){n.appeared=!0;if(r.one){i.unbind("scroll",s);var o=e.inArray(s,e.fn.appear.checks);o>=0&&e.fn.appear.checks.splice(o,1)}t.apply(this,arguments)};r.one?n.one("appear",r.data,o):n.bind("appear",r.data,o);i.scroll(s);r.addScrollTo!==!1&&r.addScrollTo.scroll(s);document.addEventListener&&document.addEventListener("touchmove",s,!1);e.fn.appear.checks.push(s);s()})};e.extend(e.fn.appear,{checks:[],timeout:null,checkAll:function(){var t=e.fn.appear.checks.length;if(t>0)while(t--)e.fn.appear.checks[t]()},run:function(){e.fn.appear.timeout&&clearTimeout(e.fn.appear.timeout);e.fn.appear.timeout=setTimeout(e.fn.appear.checkAll,20)}});e.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(t,n){var r=e.fn[n];r&&(e.fn[n]=function(){var t=r.apply(this,arguments);e.fn.appear.run();return t})});e.fn.lazyloader=function(t,n){n=n||{};var r=n.complete||function(){},i=n.before_show||function(){},s=n.fade_duration||500,o=t?t:"img";this.appear(function(){e(this).find(o+"[data-src]").each(function(){var t=e(this),n=new Image;n.onload=function(){t.css({opacity:0});i(t);t.attr("src",t.attr("data-src"));t.animate({opacity:1},{duration:s,complete:r})};n.src=t.attr("data-src")})},{addScrollTo:n.addScrollTo})}})(jQuery);